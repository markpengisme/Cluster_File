apiVersion: v1
data:
  application.properties: |
    #Sat May 12 18:34:56 CST 2018
    cakeshop.database.vendor=hsqldb
    cakeshop.hibernate.hbm2ddl.auto=update
    cakeshop.hibernate.jdbc.batch_size=20
    cakeshop.jdbc.pass=sdk
    cakeshop.jdbc.user=sdk
    cakeshop.mvc.async.pool.queue.max=2000
    cakeshop.mvc.async.pool.threads.core=250
    cakeshop.mvc.async.pool.threads.max=1000
    contract.poll.delay.millis=5000
    contract.registry.addr=
    endpoints.actuator.enabled=true
    geth.auto.start=false
    geth.auto.stop=false
    geth.cors.enabled=false
    geth.cors.url=
    geth.datadir=/Users/pengshengmao/Desktop/quorum-examples/data/local/ethereum
    geth.db.enabled=true
    geth.identity=wahaha
    geth.log=/logs
    geth.mining=true
    geth.networkid=1006
    geth.node.port=30303
    geth.params.extra=
    geth.rpcapi.list=admin,db,eth,debug,miner,net,shh,txpool,personal,web3
    geth.url=http\:localhost\:22000
    geth.verbosity=
    management.context-path=/manage
    server.compression.enabled=true
    server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain
    spring.main.banner-mode=off
    spring.mvc.view.prefix=/WEB-INF/jsp/
    spring.mvc.view.suffix=.jsp
  genesis.json: |
    {
      "alloc": {},
      "coinbase": "0x0000000000000000000000000000000000000000",
      "config": {
        "homesteadBlock": 0,
        "chainId": 1,
        "eip155Block": null,
        "eip158Block": null,
        "isQuorum": true
      },
      "difficulty": "0x0",
      "extraData": "0x0000000000000000000000000000000000000000000000000000000000000000",
      "gasLimit": "0xE0000000",
      "mixhash": "0x00000000000000000000000000000000000000647572616c65787365646c6578",
      "nonce": "0x0",
      "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
      "timestamp": "0x00"
    }
  passwords.txt: ""
  raft-init.sh: |-
    #!/bin/bash
    set -u
    set -e

    echo "[*] Cleaning up temporary data directories"
    rm -rf qdata
    mkdir -p qdata/logs

    echo "[*] Configuring node"
    mkdir -p qdata/dd/{keystore,geth}
    cp permissioned-nodes.json qdata/dd/static-nodes.json
    cp permissioned-nodes.json qdata/dd/
    cp key qdata/dd/keystore
    cp nodekey qdata/dd/geth/nodekey
    geth --datadir qdata/dd init genesis.json
  raft-start.sh: |-
    #!/bin/bash
    set -u
    set -e

    mkdir -p qdata/logs
    echo "[*] Starting Constellation Node"
    ./constellation-start.sh

    echo "[*] Starting Ethereum Node"
    ARGS="--raft --rpc --rpcaddr 0.0.0.0 --rpcapi admin,db,eth,debug,miner,net,shh,txpool,personal,web3,quorum --emitcheckpoints"
    PRIVATE_CONFIG=qdata/c/tm.ipc nohup geth --datadir qdata/dd $ARGS --permissioned --raftport 50400 --rpcport 22000 --port 21000 --unlock 0 --password passwords.txt 2>>qdata/logs/log.log &
    echo "Node configured. See 'qdata/logs' for logs, and run e.g. "geth attach qdata/dd/geth.ipc" to attach to the Geth node."
  stop.sh: |-
    #!/bin/bash
    killall geth bootnode constellation-node
kind: ConfigMap
metadata:
  creationTimestamp: 2018-05-19T18:38:45Z
  name: 7node-map
  namespace: default
  resourceVersion: "514714"
  selfLink: /api/v1/namespaces/default/configmaps/7node-map
  uid: dc7385ba-5b93-11e8-8367-42010a80014e